
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport"content="width=device-width;" >
    <title></title>
    <link rel="stylesheet" type="text/css" href="css/main.css" />

    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/highcharts.js"></script>
    <script type="text/javascript" src="js/exporting.js"></script>
    <script type="text/javascript">
    Highcharts.setOptions({
        global: {
            useUTC: false
        }
    });
    function updateData(x, s0, s1, s2, s3, s4, s5, s6, s7)
    {
        var series = chart.series[0];
        series.addPoint([x, s0], true, true);
        var series = chart.series[1];
        series.addPoint([x, s1], true, true);
        var series = chart.series[2];
        series.addPoint([x, s2], true, true);
        var series = chart.series[3];
        series.addPoint([x, s3], true, true);
        var series = chart.series[4];
        series.addPoint([x, s4], true, true);
        var series = chart.series[5];
        series.addPoint([x, s5], true, true);
        var series = chart.series[6];
        series.addPoint([x, s6], true, true);
        var series = chart.series[7];
        series.addPoint([x, s7], true, true);
    }
    var chart;
    $(function() {
        
        chart = new Highcharts.Chart({
            chart: {
                renderTo: 'chart_spline', //图表放置的容器，DIV
                defaultSeriesType: 'spline', //图表类型为曲线图

            },
            title: {
                text: '数值变化曲线图'  //图表标题
            },
            xAxis: { //设置X轴
                type: 'datetime',  //X轴为日期时间类型
                tickPixelInterval: 10  //X轴标签间隔
            },
            yAxis: { //设置Y轴
                title: 'kB/s',
                max: 1000, //Y轴最大值
                min: 0 , //Y轴最小值
                minorTickInterval: 50,//最小刻度
                tickPixelInterval:100//刻度间隔

            },
            tooltip: {//当鼠标悬置数据点时的提示框
                formatter: function() { //格式化提示信息
                    return '<b>数值</b><br/>'+
                    Highcharts.dateFormat('%H:%M:%S', this.x) +'<br/>'+ 
                                     Highcharts.numberFormat(this.y, 2);//+'℃';
                }
            },
            legend: {
                enabled: true  //设置图例不可见
            },
            exporting: {
                enabled: false  //设置导出按钮不可用
            },
            credits: {
                text: '', //设置LOGO区文字
                href: '' //设置LOGO链接地址
            },
         series: [{
                  name: '建议发送码率',
                  data: (function() { //设置默认数据，这里是假数据，如果有真数据可以在页面加载时候用真数据替换掉
                         var data = [],
                         time = (new Date()).getTime(),
                         i;
                         
                         for (i = -59; i <= 0; i++) {
                         data.push({
                                   x: time + i * 5000, 
                                   y: 0
                                   });
                         }
                         return data;
                         })()
                  },
                  {
                  name: '实际发送码率',
                  data: (function() { //设置默认数据，这里是假数据，如果有真数据可以在页面加载时候用真数据替换掉
                         var data = [],
                         time = (new Date()).getTime(),
                         i;
                         
                         for (i = -59; i <= 0; i++) {
                         data.push({
                                   x: time + i * 5000,
                                   y: 0
                                   });
                         }
                         return data;
                         })()
                  },
                  {
                  name: '实际接收码率',
                  data: (function() { //设置默认数据，这里是假数据，如果有真数据可以在页面加载时候用真数据替换掉
                         var data = [],
                         time = (new Date()).getTime(),
                         i;
                         
                         for (i = -59; i <= 0; i++) {
                         data.push({
                                   x: time + i * 5000,
                                   y: 0
                                   });
                         }
                         return data;
                         })()
                  },
                  {
                  name: '采样带宽',
                  data: (function() { //设置默认数据，这里是假数据，如果有真数据可以在页面加载时候用真数据替换掉
                         var data = [],
                         time = (new Date()).getTime(),
                         i;
                         
                         for (i = -59; i <= 0; i++) {
                         data.push({
                                   x: time + i * 5000,
                                   y: 0
                                   });
                         }
                         return data;
                         })()
                  },
                  {
                  name: '决定带宽',
                  data: (function() { //设置默认数据，这里是假数据，如果有真数据可以在页面加载时候用真数据替换掉
                         var data = [],
                         time = (new Date()).getTime(),
                         i;
                         
                         for (i = -59; i <= 0; i++) {
                         data.push({
                                   x: time + i * 5000,
                                   y: 0
                                   });
                         }
                         return data;
                         })()
                  },
                  {
                  name: '平均延时',
                  data: (function() { //设置默认数据，这里是假数据，如果有真数据可以在页面加载时候用真数据替换掉
                         var data = [],
                         time = (new Date()).getTime(),
                         i;
                         
                         for (i = -59; i <= 0; i++) {
                         data.push({
                                   x: time + i * 5000,
                                   y: 0
                                   });
                         }
                         return data;
                         })()
                  },
                  {
                  name: '丢包率',
                  data: (function() { //设置默认数据，这里是假数据，如果有真数据可以在页面加载时候用真数据替换掉
                         var data = [],
                         time = (new Date()).getTime(),
                         i;
                         
                         for (i = -59; i <= 0; i++) {
                         data.push({
                                   x: time + i * 5000,
                                   y: 0
                                   });
                         }
                         return data;
                         })()
                  },
                  {
                  name: '（暂时未用）',
                  data: (function() { //设置默认数据，这里是假数据，如果有真数据可以在页面加载时候用真数据替换掉
                         var data = [],
                         time = (new Date()).getTime(),
                         i;
                         
                         for (i = -59; i <= 0; i++) {
                         data.push({
                                   x: time + i * 5000,
                                   y: 0
                                   });
                         }
                         return data;
                         })()
                  }
                  ]
        });
    });
    </script>
    </head>

    <body>

        <div id="main">
            <h2 class="top_title">实时带宽曲线图</h2>
            <div id="chart_spline" ></div>
        </div>
    </body>
</html>
